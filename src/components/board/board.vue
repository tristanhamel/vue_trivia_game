<template>
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 470.6 248.6">
    <filter id="brightness">
      <feComponentTransfer in="SourceGraphic" result="brightness-filter">
        <feFuncR type="linear" slope="0.5"></feFuncR>
        <feFuncG type="linear" slope="0.5"></feFuncG>
        <feFuncB type="linear" slope="0.5"></feFuncB>
      </feComponentTransfer>
    </filter>

    <path class="tile" id="tile_9" d="M34.1,109.7,17.8,138h0A34.5,34.5,0,0,0,.5,133.3V100.7a67,67,0,0,1,33.6,9"/>
    <path class="tile" id="tile_10" d="M58.8,134.3,30.5,150.6h0A34.5,34.5,0,0,0,17.8,138l16.3-28.3a67,67,0,0,1,24.6,24.6"/>
    <path class="tile" id="tile_11" d="M67.8,167.9H35.1a34.5,34.5,0,0,0-4.6-17.3l28.3-16.3a67,67,0,0,1,9,33.6"/>
    <path class="tile" id="tile_5" d="M35.2,167.9H67.8a34.5,34.5,0,0,0,4.6,17.3L44.2,201.6a67,67,0,0,1-9-33.6"/>
    <path class="tile" id="tile_4" d="M44.2,201.6l28.3-16.3h0a34.5,34.5,0,0,0,12.7,12.7L68.8,226.2a67,67,0,0,1-24.6-24.6"/>
    <rect class="tile" id="tile_12" x="71.7" y="205.7" width="32.7" height="25.57" transform="translate(-145.2 185.3) rotate(-60)"/>
    <path class="tile" id="tile_3" d="M91,239l16.3-28.3h0a34.5,34.5,0,0,0,17.3,4.6v32.7a67,67,0,0,1-33.6-9"/>
    <path class="tile" id="tile_2" d="M124.6,248.1V215.4h0a34.5,34.5,0,0,0,17.3-4.6l16.3,28.3a67,67,0,0,1-33.6,9"/>
    <path class="tile" id="tile_1" d="M158.2,239.1l-16.3-28.3h0a34.5,34.5,0,0,0,12.7-12.7l28.3,16.3a67,67,0,0,1-24.6,24.6"/>
    <path class="tile" id="tile_15" d="M182.9,214.4l-28.3-16.3h0a34.5,34.5,0,0,0,4.6-17.3h32.7a67,67,0,0,1-9,33.6"/>
    <path class="tile" id="tile_14" d="M191.9,180.8H159.3a34.5,34.5,0,0,0-4.6-17.3l28.3-16.3a67,67,0,0,1,9,33.6"/>
    <path class="tile" id="tile_13" d="M182.9,147.2l-28.3,16.3h0A34.5,34.5,0,0,0,142,150.8l16.3-28.3a67,67,0,0,1,24.6,24.6"/>
    <path class="tile" id="tile_6" d="M117.4,126.1l28.3-16.3h0a34.5,34.5,0,0,0,12.7,12.7L142,150.8a67,67,0,0,1-24.6-24.6"/>
    <path class="tile" id="tile_7" d="M108.4,92.5H141a34.5,34.5,0,0,0,4.6,17.3l-28.3,16.3a67,67,0,0,1-9-33.6"/>
    <path class="tile" id="tile_8" d="M117.4,58.9l28.3,16.3h0A34.5,34.5,0,0,0,141,92.5H108.4a67,67,0,0,1,9-33.6"/>
    <path class="tile" id="tile_19" d="M142,34.2l16.3,28.3h0a34.5,34.5,0,0,0-12.7,12.7L117.4,58.9A67,67,0,0,1,142,34.2"/>
    <path class="tile" id="tile_20" d="M175.7,25.2V57.9h0a34.5,34.5,0,0,0-17.3,4.6L142,34.2a67,67,0,0,1,33.6-9"/>
    <path class="tile" id="tile_21" d="M209.3,34.3,193,62.6h0a34.5,34.5,0,0,0-17.3-4.6V25.2a67,67,0,0,1,33.6,9"/>
    <path class="tile" id="tile_22" d="M233.9,58.9,205.6,75.2h0A34.5,34.5,0,0,0,193,62.5l16.3-28.3a67,67,0,0,1,24.6,24.6"/>
    <path class="tile" id="tile_23" d="M242.9,92.6H210.3a34.5,34.5,0,0,0-4.6-17.3l28.3-16.3a67,67,0,0,1,9,33.6"/>
    <path class="tile" id="tile_24" d="M233.9,126.2l-28.3-16.3h0a34.5,34.5,0,0,0,4.6-17.3h32.7a67,67,0,0,1-9,33.6"/>
    <path class="tile" id="tile_27" d="M205.6,109.9l28.3,16.3h0a34.5,34.5,0,0,0-4.6,17.3H196.6a67,67,0,0,1,9-33.6"/>
    <rect class="tile" id="tile_28" x="196.6" y="143.5" width="32.7" height="25.57"/>
    <path class="tile" id="tile_26" d="M196.6,169.1h32.7a34.5,34.5,0,0,0,4.6,17.3l-28.3,16.3a67,67,0,0,1-9-33.6"/>
    <path class="tile" id="tile_25" d="M205.6,202.7l28.3-16.3h0a34.5,34.5,0,0,0,12.7,12.7l-16.3,28.3a67,67,0,0,1-24.6-24.6"/>
    <path class="tile" id="tile_18" d="M230.2,227.4l16.3-28.3h0a34.5,34.5,0,0,0,17.3,4.6v32.7a67,67,0,0,1-33.6-9"/>
    <path class="tile" id="tile_17" d="M263.9,236.4V203.7h0a34.5,34.5,0,0,0,17.3-4.6l16.3,28.3a67,67,0,0,1-33.6,9"/>
    <path class="tile" id="tile_16" d="M297.5,227.4l-16.3-28.3h0a34.5,34.5,0,0,0,12.7-12.7l28.3,16.3a67,67,0,0,1-24.6,24.6"/>
    <path class="tile" id="tile_29" d="M318.5,161.8l16.3,28.3h0a34.5,34.5,0,0,0-12.7,12.7l-28.3-16.3a67,67,0,0,1,24.6-24.6"/>
    <path class="tile" id="tile_30" d="M352.2,152.8v32.7h0a34.5,34.5,0,0,0-17.3,4.6l-16.3-28.3a67,67,0,0,1,33.6-9"/>
    <path class="tile" id="tile_31" d="M385.8,161.8l-16.3,28.3h0a34.5,34.5,0,0,0-17.3-4.6V152.8a67,67,0,0,1,33.6,9"/>
    <path class="tile" id="tile_34" d="M369.5,190.1l16.3-28.3h0a34.5,34.5,0,0,0,17.3,4.6v32.7a67,67,0,0,1-33.6-9"/>
    <path class="tile" id="tile_33" d="M403.1,199.1V166.5h0a34.5,34.5,0,0,0,17.3-4.6l16.3,28.3a67,67,0,0,1-33.6,9"/>
    <path class="tile" id="tile_32" d="M436.7,190.1l-16.3-28.3h0a34.5,34.5,0,0,0,12.7-12.7l28.3,16.3a67,67,0,0,1-24.6,24.6"/>
    <path class="tile" id="tile_37" d="M461.4,165.1l-28.4-16.1h0a34.5,34.5,0,0,0,4.5-17.4l32.7-.3a67,67,0,0,1-8.7,33.7"/>
    <path class="tile" id="tile_36" d="M470.1,131.4l-32.7.3h0a34.5,34.5,0,0,0-4.8-17.3l28.1-16.6a67,67,0,0,1,9.4,33.6"/>
    <path class="tile" id="tile_35" d="M460.7,97.8l-28.1,16.6h0a34.5,34.5,0,0,0-12.8-12.5l16.1-28.4a67,67,0,0,1,24.9,24.4"/>
    <path class="tile" id="tile_40" d="M435.8,73.5l-16.1,28.4h0a34.5,34.5,0,0,0-17.4-4.5l-.3-32.7a67,67,0,0,1,33.7,8.7"/>
    <path class="tile" id="tile_39" d="M402.1,64.8l.3,32.7h0a34.5,34.5,0,0,0-17.3,4.8L368.6,74.1a67,67,0,0,1,33.6-9.3"/>
    <path class="tile" id="tile_38" d="M368.6,74.1l16.6,28.1h0A34.5,34.5,0,0,0,372.6,115L344.2,99a67,67,0,0,1,24.4-24.9"/>
    <path class="tile" id="tile_45" d="M348.2,139.9l-16.6-28.1h0A34.5,34.5,0,0,0,344.2,99L372.6,115a67,67,0,0,1-24.4,24.9"/>
    <path class="tile" id="tile_46" d="M314.7,149.2l-.3-32.7h0a34.5,34.5,0,0,0,17.3-4.8l16.6,28.1a67,67,0,0,1-33.6,9.3"/>
    <path class="tile" id="tile_47" d="M280.9,140.5,297,112.1h0a34.5,34.5,0,0,0,17.4,4.5l.3,32.7a67,67,0,0,1-33.7-8.7"/>
    <path class="tile" id="tile_48" d="M256.1,116.1l28.1-16.6h0A34.5,34.5,0,0,0,297,112.1l-16.1,28.4a67,67,0,0,1-24.9-24.4"/>
    <path class="tile" id="tile_49" d="M246.7,82.6l32.7-.3h0a34.5,34.5,0,0,0,4.8,17.3l-28.1,16.6a67,67,0,0,1-9.3-33.6"/>
    <path class="tile" id="tile_50" d="M255.4,48.9l28.4,16.1h0a34.5,34.5,0,0,0-4.5,17.4l-32.7.3a67,67,0,0,1,8.7-33.7"/>
    <path class="tile" id="tile_51" d="M279.8,24l16.6,28.1h0a34.5,34.5,0,0,0-12.6,12.8L255.4,48.9A67,67,0,0,1,279.8,24"/>
    <path class="tile" id="tile_52" d="M313.4,14.7l.3,32.7h0a34.5,34.5,0,0,0-17.3,4.8L279.8,24a67,67,0,0,1,33.6-9.3"/>
    <path class="tile" id="tile_53" d="M313.7,47.3l-.3-32.7h0a34.5,34.5,0,0,0,17.3-4.8L347.2,38a67,67,0,0,1-33.6,9.3"/>
    <path class="tile" id="tile_54" d="M364.2.5l.3,32.7h0A34.5,34.5,0,0,0,347.2,38L330.6,9.8A67,67,0,0,1,364.2.5"/>
  </svg>
</template>

<script>
  import Vue from 'vue';

  function getRandomColorClass (previous, max) {
    const current = Math.round(Math.random()*max);
    return current !== previous ? current : getRandomColorClass(previous, max);
  }

  export default Vue.component('board', {
    props: {
      score: Number
    },
    mounted() {
      const tiles = this.$el.getElementsByClassName('tile');

      // add random bg colors to tiles - makes sure it's different from previous
      Array.from(tiles)
        .reduce((previous, t) => {
          const current = getRandomColorClass(previous, 4);
          t.classList.add('fill' + current, 'not-correct');
          return current;
        }, -1);
    },
    beforeUpdate() {
      //todo: light up tiles according to new score
    }
  });
</script>

<style lang="scss">
  .tile {
  }

  .fill0 {
    fill: yellow;
  }
  .fill1 {
    fill: green;
  }
  .fill2 {
    fill: red;
  }
  .fill3 {
    fill: blue;
  }
  .fill4 {
    fill: darkviolet;
  }

  .not-correct {
    filter: url(#brightness);
  }
</style>